<!DOCTYPE html><html>
  <head lang="en">
    <meta charset="utf-8">
    <title>Akka HTTP Application Template</title>
  </head>
  <body>
    <h1>Akk HTTP Application Template</h1>
    <div id="app">
      <ul id="event-log"></ul>
    </div>
    <script>
     var ws = new WebSocket("ws://localhost:8081/server-events");
     var eventLogUl = document.getElementById("event-log");
     ws.onmessage = function(evt) {
       var eventObj = JSON.parse(evt.data);
       console.log(evt.data, eventObj);
       var firstChild = eventLogUl.firstChild;
       var li = document.createElement("li");
       var text = document.createTextNode(evt.data);
       li.appendChild(text);
       if (eventLogUl.childNodes.length > 20) {
         eventLogUl.removeChild(eventLogUl.lastChild);
       }
       if (firstChild) {
         eventLogUl.insertBefore(li, firstChild);
       } else {
         eventLogUl.appendChild(li);
       }
     };
    </script>
  </body>
</html>
